<header class="bg-white border-b-2 border-gray-200" data-controller="header">
  <div class="mx-auto max-w-7xl px-2 sm:px-4 lg:divide-y lg:divide-gray-200 lg:px-8">
    <div class="relative flex h-20 justify-between">
      <div class="relative z-10 flex px-2 lg:px-0">
        <div class="flex flex-shrink-0 items-center">

        </div>
      </div>
      <div class="relative z-0 flex flex-1 items-center justify-center px-2 sm:absolute sm:inset-0">
        <div class="w-full sm:max-w-xs">
          <label for="search" class="sr-only">Search</label>
          <div class="relative">
            <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
              <svg class="h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
              </svg>
            </div>
            <input id="search" name="search" class="block w-full rounded-md border-0 bg-white py-1.5 pl-10 pr-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="Search" type="search">
          </div>
        </div>
      </div>
      <div class="relative z-10 flex items-center lg:hidden">
        <!-- Mobile menu button -->
        <button type="button" class="relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" aria-controls="mobile-menu" aria-expanded="false">
          <span class="absolute -inset-0.5"></span>
          <span class="sr-only">Open menu</span>
          <!--
            Icon when menu is closed.

            Menu open: "hidden", Menu closed: "block"
          -->
          <svg class="block h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
          </svg>
          <!--
            Icon when menu is open.

            Menu open: "block", Menu closed: "hidden"
          -->
          <svg class="hidden h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="hidden lg:relative lg:z-10 lg:ml-4 lg:flex lg:items-center">
        <!-- Profile dropdown -->
        <div class="relative ml-4 flex-shrink-0">
          <div>
            <button data-header-target="openUserMenu" type="button" class="relative flex rounded-full bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2" id="user-menu-button" aria-expanded="false" aria-haspopup="true">
              <span class="absolute -inset-1.5"></span>
              <span class="sr-only">Open user menu</span>
              <% if user_signed_in? && current_user.profile.picture.present?%>
                <%= image_tag current_user.profile.picture, class:"h-8 w-8 rounded-full" %>
              <%else%>
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" id="user"><g fill="#fff" transform="translate(4.417 -1032.375)"><circle cx="8.083" cy="1044.875" r="12.5" fill="#424242" fill-rule="evenodd"></circle><path fill="#1f212a" style="line-height:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;block-progression:tb;isolation:auto;mix-blend-mode:normal" d="M12.627 24.996a12.5 12.5 0 0 0 .758-.027 12.5 12.5 0 0 0 1.24-.15 12.5 12.5 0 0 0 1.219-.274 12.5 12.5 0 0 0 1.185-.395 12.5 12.5 0 0 0 1.14-.51 12.5 12.5 0 0 0 1.085-.622 12.5 12.5 0 0 0 1.016-.727 12.5 12.5 0 0 0 .939-.824 12.5 12.5 0 0 0 .852-.914 12.5 12.5 0 0 0 .755-.994 12.5 12.5 0 0 0 .655-1.067 12.5 12.5 0 0 0 .543-1.125 12.5 12.5 0 0 0 .158-.435L14.112 6.873a2.99 2.99 0 0 0-2.12-.88c-1.653 0-3 1.346-3 3v2c0 .222.03.436.076.644.017.075.046.144.069.217.04.13.082.257.138.378.037.08.082.152.125.227.062.106.124.21.198.307.052.07.107.136.166.2.038.043.069.091.109.132l.242.242c-2.133.757-3.706 2.744-3.78 5.139a.458.458 0 0 0 .034.199c.01.024.03.043.043.066.023.038.043.078.074.11l.002.001 6.139 6.141z" color="#000" font-family="sans-serif" font-weight="400" transform="translate(-4.417 1032.375)"></path><path d="M6.027 1.006c-1.653 0-3 1.347-3 3v2c0 .95.452 1.79 1.143 2.34C2.027 9.098.444 11.09.37 13.492a.52.52 0 0 0 .5.531h7.906a1.015 1.015 0 0 1-.093-.843l.062-.157h-7.25c.331-2.319 2.29-4.072 4.688-4a4.45 4.45 0 0 1 1.375.282 1.02 1.02 0 0 1 .875-.5h.406a6.07 6.07 0 0 0-.975-.446 2.988 2.988 0 0 0 1.162-2.353v-2c0-1.653-1.346-3-3-3zm0 1c1.117 0 2 .883 2 2v2c0 1.117-.883 2-2 2-1.116 0-2-.883-2-2v-2c0-1.117.884-2 2-2zm5.545 5.017a.5.5 0 0 0-.455.344l-.635 1.947-2.056-.01a.5.5 0 0 0-.295.905l1.662 1.203-.645 1.943a.5.5 0 0 0 .768.563l1.664-1.203 1.66 1.21a.5.5 0 0 0 .77-.558l-.635-1.945 1.668-1.195a.5.5 0 0 0-.291-.907h-2.057l-.627-1.95a.5.5 0 0 0-.496-.347Zm.018 2.123.264.827a.5.5 0 0 0 .476.345h.867l-.7.504a.5.5 0 0 0-.186.56l.267.821-.701-.512a.5.5 0 0 0-.588 0l-.705.51.271-.82a.5.5 0 0 0-.18-.563l-.698-.505h.865a.5.5 0 0 0 .478-.346l.27-.82z" color="#000" font-family="sans-serif" font-weight="400" overflow="visible" transform="translate(1.549 1037.36)" style="line-height:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;block-progression:tb;isolation:auto;mix-blend-mode:normal"></path></g></svg>
              <%end%>
            </button>
          </div>
          <div
            data-header-target="dropdown"
            data-transition-enter="transition ease-out duration-100"
            data-transition-enter-start="transform opacity-0 scale-95"
            data-transition-enter-end="transform opacity-100 scale-100"
            data-transition-leave="transition ease-in duration-75"
            data-transition-leave-start="transform opacity-100 scale-100"
            data-transition-leave-end="transform opacity-0 scale-95"
            class="hidden absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
            role="menu"
            aria-orientation="vertical"
            aria-labelledby="user-menu-button"
            tabindex="-1"
          >
            <!-- Active: "bg-gray-100", Not Active: "" -->
            <% if user_signed_in? %>
              <%= link_to "Profile", profiles_path, class:"block px-4 py-2 text-sm text-gray-700", role:"menuitem", tabindex:"-1" %>
              <%= link_to "Wishlist", wishlists_path, class:"block px-4 py-2 text-sm text-gray-700", role:"menuitem", tabindex:"-1" %>
              <%= link_to "Log out", destroy_user_session_path, data: { "turbo-method": :delete }, class:"block px-4 py-2 text-sm text-gray-700", role:"menuitem", tabindex:"-1" %>
            <% else %>
              <%= link_to "Log in", new_user_session_path, class:'js-login block px-4 py-2 text-sm text-gray-700', role:"menuitem", tabindex:"-1" %>
              <%= link_to "Sign up", new_user_registration_path, class:'block px-4 py-2 text-sm text-gray-700', role:"menuitem", tabindex:"-1" %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Mobile menu, show/hide based on menu state. -->

</header>